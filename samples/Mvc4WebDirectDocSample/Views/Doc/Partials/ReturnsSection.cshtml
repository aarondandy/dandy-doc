@using DandyDoc.ViewModels
@using Mono.Cecil
@using Mvc4WebDirectDocSample.Infrastructure
@model DandyDoc.ViewModels.ReturnViewModel
@functions{

	private string GetLink(TypeReference reference) {
		if (null == reference)
			return null;
		var linkResolver = ViewBag.TypeDefinitionLinkResolver as TypeDefinitionLinkResolver;
		return null == linkResolver ? null : linkResolver.GetLink(reference);
	}

		private IHtmlString GetItemContent(ReturnViewModel model) {
		var reference = Model.Type;
		if (null == reference)
			return null;
		var coreText = HttpUtility.HtmlEncode(model.TypeDisplayName);
		var link = GetLink(reference);
		if (!String.IsNullOrEmpty(link)) {
			coreText = String.Concat("<a href=\"", link, "\">", coreText, "</a>");
		}
		return Html.Raw(coreText);
	}
}
<h2>Returns</h2>
@{
	if (Model.HasXmlDoc) {<div>@{ Html.RenderPartial("ParsedXmlDoc/ParsedXmlNodeBaseChildren", Model.XmlDoc); }</div>}
	<div>Type: @GetItemContent(Model)</div>
	var flair = Model.Flair.ToList();
	if (flair.Count > 0) {
	<ul class="unstyled">
		@foreach (var f in flair) {
		<li>@{Html.RenderPartial("Partials/FlairIcon", f);} @f.Description</li>
		}
	</ul>
	}
}